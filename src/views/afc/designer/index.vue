<template>
  <div class="p-2">
    <VFormDesigner ref="vfr" :designer-config="designerConfig" :global-dsv="globalDsv" />
  </div>
</template>

<script setup lang="ts">
import { onMounted,ref } from 'vue';
const designerConfig={
    logoHeader:false,
};
const vfr=ref()
const globalDsv= {
    testApiHost: 'http://www.test.com/api',
    baseApi:'http://t.zhengjixny.com/prod-api',
    headers: {"Authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJsb2dpblR5cGUiOiJsb2dpbiIsImxvZ2luSWQiOiJzeXNfdXNlcjoxIiwicm5TdHIiOiJ1SHMxWDdSVVl4VmNINk9mS2FGcWVRMzlaQjQyZjhJWCIsImNsaWVudGlkIjoiZTVjZDdlNDg5MWJmOTVkMWQxOTIwNmNlMjRhN2IzMmUiLCJ0ZW5hbnRJZCI6IjAwMDAwMCIsInVzZXJJZCI6MSwiZGVwdElkIjoxMDN9.ZSwPh6jVG8a20-ULqwlxH01s-a1CJlJSs5GguaweK4Q",
              "clientid": "e5cd7e4891bf95d1d19206ce24a7b32e",
              "Content-Type": "application/json"}
  }
  onMounted(()=>{
    vfr.value.setFormJson({
        widgetList:[{"id":"cardOrderInfo","key":6538,"icon":"card","type":"card","options":{"name":"cardOrderInfo","label":"搜索区","folded":false,"hidden":false,"shadow":"never","disabled":false,"required":false,"showFold":true,"cardWidth":"100%","customClass":[],"headerHidden":false},"category":"container","widgetList":[{"id":"gridOrderInfo","key":1211,"cols":[{"id":"gridColType","key":3645,"icon":"grid-col","type":"grid-col","options":{"md":8,"sm":8,"xs":8,"name":"gridColType","pull":0,"push":0,"span":8,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"type","key":6724,"icon":"select-field","type":"select","alias":"","options":{"name":"type","size":"","label":"产品类型","dsName":"dict","hidden":false,"onBlur":"","remote":false,"keyName":"type","onFocus":"","disabled":false,"labelKey":"label","multiple":false,"onChange":"","required":false,"valueKey":"value","clearable":true,"dsEnabled":true,"labelWrap":true,"onCreated":"","onMounted":"","filterable":false,"labelAlign":"","onValidate":"","validation":"","allowCreate":false,"columnWidth":"200px","customClass":"","dataSetName":"afcProductType","labelHidden":false,"optionItems":[],"placeholder":"","collapseTags":false,"defaultValue":"","requiredHint":"","multipleLimit":0,"onRemoteQuery":"","keyNameEnabled":true,"validationHint":"","optionValueType":"","automaticDropdown":false,"labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColLeaseType","key":6418,"icon":"grid-col","type":"grid-col","options":{"md":8,"sm":8,"xs":8,"name":"gridColLeaseType","pull":0,"push":0,"span":8,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"leaseType","key":5070,"icon":"select-field","type":"select","alias":"","options":{"name":"leaseType","size":"","label":"租赁类型","dsName":"dict","hidden":false,"onBlur":"","remote":false,"keyName":"leaseType","onFocus":"","disabled":false,"labelKey":"label","multiple":false,"onChange":"","required":false,"valueKey":"value","clearable":true,"dsEnabled":true,"labelWrap":true,"onCreated":"","onMounted":"","filterable":false,"labelAlign":"","onValidate":"","validation":"","allowCreate":false,"columnWidth":"200px","customClass":"","dataSetName":"afcLeaseType","labelHidden":false,"optionItems":[],"placeholder":"","collapseTags":false,"defaultValue":"","requiredHint":"","multipleLimit":0,"onRemoteQuery":"","keyNameEnabled":true,"validationHint":"","optionValueType":"","automaticDropdown":false,"labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColCustomerType","key":8153,"icon":"grid-col","type":"grid-col","options":{"md":8,"sm":8,"xs":8,"name":"gridColCustomerType","pull":0,"push":0,"span":8,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"customerType","key":5920,"icon":"select-field","type":"select","alias":"","options":{"name":"customerType","size":"","label":"客户类型","dsName":"dict","hidden":false,"onBlur":"","remote":false,"keyName":"customerType","onFocus":"","disabled":false,"labelKey":"label","multiple":false,"onChange":"","required":false,"valueKey":"value","clearable":true,"dsEnabled":true,"labelWrap":true,"onCreated":"","onMounted":"","filterable":false,"labelAlign":"","onValidate":"","validation":"","allowCreate":false,"columnWidth":"200px","customClass":"","dataSetName":"afcCustomerType","labelHidden":false,"optionItems":[],"placeholder":"","collapseTags":false,"defaultValue":"","requiredHint":"","multipleLimit":0,"onRemoteQuery":"","keyNameEnabled":true,"validationHint":"","optionValueType":"","automaticDropdown":false,"labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColCarBrandId","key":5506,"icon":"grid-col","type":"grid-col","options":{"md":8,"sm":8,"xs":8,"name":"gridColCarBrandId","pull":0,"push":0,"span":8,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"carBrandId","key":4271,"icon":"select-field","type":"select","alias":"","options":{"name":"carBrandId","size":"","label":"品牌","dsName":"sql_car_brand","hidden":false,"onBlur":"","remote":false,"keyName":"carBrandId","onFocus":"","disabled":false,"labelKey":"label","multiple":false,"onChange":"let {baseApi,headers} = this.getGlobalDsv();\nheaders['Content-Type'] = 'application/json';\nlet linkWidget = this.getWidgetRef('carSerialId');\nif(linkWidget){\n\t linkWidget.loadOptions({});\n this.getFormRef().setFieldValue('carSerialId','');\n}\nif(value==''){\n\t return;\n}if(this.getFormRef().hasEC('myEC')){\n\t let handle = this.getFormRef().getEC('myEC');\n\t\t let headers = {'Content-Type':'application/json'};\n\t\t handle.api({url:'/afc/dict/sql/car_serial',headers:headers,method:'post',data:{'car_brand_id':value}}).then(res=>{\n\t\t\t linkWidget.loadOptions(res.data);\n}).catch(res=>{\n\t linkWidget.loadOptions({});\n});\n\t } else {\n\t\t linkWidget.loadOptions({});\n}\n","required":false,"valueKey":"value","clearable":true,"dsEnabled":true,"labelWrap":true,"onCreated":"","onMounted":"","filterable":false,"labelAlign":"","onValidate":"","validation":"","allowCreate":false,"columnWidth":"200px","customClass":"","dataSetName":"","labelHidden":false,"optionItems":[],"placeholder":"","collapseTags":false,"defaultValue":"","requiredHint":"","multipleLimit":0,"onRemoteQuery":"","keyNameEnabled":true,"validationHint":"","optionValueType":"","automaticDropdown":false,"labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColCarModelId","key":4776,"icon":"grid-col","type":"grid-col","options":{"md":8,"sm":8,"xs":8,"name":"gridColCarModelId","pull":0,"push":0,"span":8,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":[]},"category":"container","internal":true,"widgetList":[{"id":"carModelId","key":3575,"icon":"select-field","type":"select","alias":"","options":{"name":"carModelId","size":"","label":"车型","dsName":"sql_car_model","hidden":false,"onBlur":"","remote":false,"keyName":"carModelId","onFocus":"","disabled":false,"labelKey":"label","multiple":false,"onChange":"","required":false,"valueKey":"value","clearable":true,"dsEnabled":true,"labelWrap":true,"onCreated":"","onMounted":"","filterable":false,"labelAlign":"","onValidate":"","validation":"","allowCreate":false,"columnWidth":"200px","customClass":[],"dataSetName":"","labelHidden":false,"optionItems":[],"placeholder":"","collapseTags":false,"defaultValue":"","requiredHint":"","multipleLimit":0,"onRemoteQuery":"","keyNameEnabled":true,"validationHint":"","optionValueType":"","automaticDropdown":false,"labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColSearchBtnOrderInfo","key":5035,"icon":"grid-col","type":"grid-col","options":{"md":24,"sm":24,"xs":24,"name":"gridColSearchBtnOrderInfo","pull":0,"push":0,"span":24,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":false,"customClass":[]},"category":"container","internal":true,"widgetList":[{"id":"searchOrderInfo","key":5036,"icon":"button","type":"button","options":{"icon":"Search","name":"searchOrderInfo","size":"","type":"primary","label":"开始搜索","plain":false,"round":false,"circle":false,"hidden":false,"onClick":"let that = this;\nthis.getFormRef().getFormData().then(res=>{\nres.url = '/afc/data/list';\n that.getWidgetRef('datatableOrderInfo').loadDataFromDS(res,'dataOrderInfo')})","disabled":false,"required":false,"onCreated":"","onMounted":"","columnWidth":"200px","customClass":[],"displayStyle":"inline"},"formItemFlag":false},{"id":"resetOrderInfo","key":5037,"icon":"button","type":"button","options":{"icon":"Refresh","name":"resetOrderInfo","size":"","type":"","label":"重置","plain":false,"round":false,"circle":false,"hidden":false,"onClick":"let that = this;\nthis.getFormRef().getFormData().then(res=>{for(let key in res){that.getFormRef().setFieldValue(key,'');}this.getWidgetRef('datatableOrderInfo').loadDataFromDS({'url':'/afc/data/list'},'dataOrderInfo');});","disabled":false,"required":false,"onCreated":"","onMounted":"","columnWidth":"200px","customClass":["pl10"],"displayStyle":"inline"},"formItemFlag":false}]}],"icon":"grid-3-col","type":"grid","alias":"grid-3-col","options":{"name":"gridOrderInfo","gutter":12,"hidden":false,"disabled":false,"required":false,"colHeight":"50","customClass":[]},"category":"container"}]},{"id":"vfdrawerOrderInfo","key":1890,"icon":"vf-drawer","type":"vf-drawer","options":{"name":"vfdrawerOrderInfo","size":"50%","title":"","hidden":false,"disabled":false,"readMode":false,"required":false,"direction":"rtl","showClose":true,"showModal":true,"disabledMode":false,"okButtonLabel":"","okButtonHidden":false,"onDrawerOpened":"const td = this.extraData || {};\n if('edit'==td.editFlag){\n  this.options.title='编辑资料';\n} else if('detail' == td.editFlag) {\n  this.options.title='查看详情';\n  this.getFormRef().disableForm();\n} else { this.options.title='新增记录';\n}","onOkButtonClick":"const that = this;\nthat.getFormRef().validateForm(res=>{\n if(!res){ that.$message.info('数据校验失败,请检查后重新提交!');\n return;\n}});this.getFormRef().getFormData().then(res=>{\n //JSON.stringify(res);\n\t that.getFormRef().executeDataSource('submitOrderInfo',{'formData':res}).then(res=>{\n\t\t that.getTopFormRef().getWidgetRef('datatableOrderInfo').loadDataFromDS({},'dataOrderInfo');\n});\n\t\t that.close();});\nreturn false;\n","cancelButtonLabel":"","closeOnClickModal":false,"cancelButtonHidden":false,"closeOnPressEscape":false,"onCancelButtonClick":"","onDrawerBeforeClose":""},"category":"container","widgetList":[{"id":"gridOrderInfo","key":9307,"cols":[{"id":"gridColId","key":7640,"icon":"grid-col","type":"grid-col","options":{"md":0,"sm":0,"xs":0,"name":"gridColId","pull":0,"push":0,"span":1,"hidden":true,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"id","key":1221,"icon":"number-field","type":"number","options":{"max":100000000000,"min":-100000000000,"name":"id","size":"","step":1,"label":"系统ID","hidden":true,"onBlur":"","formula":"","keyName":"id","onFocus":"","controls":true,"disabled":false,"onChange":"","required":true,"labelWrap":true,"onCreated":"","onMounted":"","precision":0,"labelAlign":"","onValidate":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","defaultValue":0,"requiredHint":"","formulaEnabled":false,"keyNameEnabled":true,"validationHint":"","controlsPosition":"right","labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColProductCode","key":8824,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColProductCode","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"productCode","key":1136,"icon":"text-field","type":"input","alias":"","options":{"name":"productCode","size":"","type":"text","label":"产品编码","hidden":false,"onBlur":"","keyName":"productCode","onFocus":"","onInput":"","disabled":false,"onChange":"","readonly":false,"required":false,"clearable":true,"labelWrap":true,"onCreated":"","onMounted":"","buttonIcon":"custom-search","labelAlign":"","onValidate":"","prefixIcon":"","suffixIcon":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","appendButton":false,"defaultValue":"","requiredHint":"","showPassword":false,"showWordLimit":false,"keyNameEnabled":true,"validationHint":"","labelIconPosition":"rear","onAppendButtonClick":"","appendButtonDisabled":false},"formItemFlag":true}]},{"id":"gridColProductName","key":4994,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColProductName","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"productName","key":1862,"icon":"text-field","type":"input","alias":"","options":{"name":"productName","size":"","type":"text","label":"产品名称","hidden":false,"onBlur":"","keyName":"productName","onFocus":"","onInput":"","disabled":false,"onChange":"","readonly":false,"required":false,"clearable":true,"labelWrap":true,"onCreated":"","onMounted":"","buttonIcon":"custom-search","labelAlign":"","onValidate":"","prefixIcon":"","suffixIcon":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","appendButton":false,"defaultValue":"","requiredHint":"","showPassword":false,"showWordLimit":false,"keyNameEnabled":true,"validationHint":"","labelIconPosition":"rear","onAppendButtonClick":"","appendButtonDisabled":false},"formItemFlag":true}]},{"id":"gridColType","key":7764,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColType","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"type","key":3713,"icon":"select-field","type":"select","alias":"","options":{"name":"type","size":"","label":"产品类型","dsName":"dict","hidden":false,"onBlur":"","remote":false,"keyName":"type","onFocus":"","disabled":false,"labelKey":"label","multiple":false,"onChange":"","required":true,"valueKey":"value","clearable":true,"dsEnabled":true,"labelWrap":true,"onCreated":"","onMounted":"","filterable":false,"labelAlign":"","onValidate":"","validation":"","allowCreate":false,"columnWidth":"200px","customClass":"","dataSetName":"afcProductType","labelHidden":false,"optionItems":[],"placeholder":"","collapseTags":false,"defaultValue":"","requiredHint":"","multipleLimit":0,"onRemoteQuery":"","keyNameEnabled":true,"validationHint":"","optionValueType":"","automaticDropdown":false,"labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColLeaseType","key":5409,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColLeaseType","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"leaseType","key":6308,"icon":"select-field","type":"select","alias":"","options":{"name":"leaseType","size":"","label":"租赁类型","dsName":"dict","hidden":false,"onBlur":"","remote":false,"keyName":"leaseType","onFocus":"","disabled":false,"labelKey":"label","multiple":false,"onChange":"","required":true,"valueKey":"value","clearable":true,"dsEnabled":true,"labelWrap":true,"onCreated":"","onMounted":"","filterable":false,"labelAlign":"","onValidate":"","validation":"","allowCreate":false,"columnWidth":"200px","customClass":"","dataSetName":"afcLeaseType","labelHidden":false,"optionItems":[],"placeholder":"","collapseTags":false,"defaultValue":"","requiredHint":"","multipleLimit":0,"onRemoteQuery":"","keyNameEnabled":true,"validationHint":"","optionValueType":"","automaticDropdown":false,"labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColCustomerType","key":7188,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColCustomerType","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"customerType","key":1437,"icon":"select-field","type":"select","alias":"","options":{"name":"customerType","size":"","label":"客户类型","dsName":"dict","hidden":false,"onBlur":"","remote":false,"keyName":"customerType","onFocus":"","disabled":false,"labelKey":"label","multiple":false,"onChange":"","required":false,"valueKey":"value","clearable":true,"dsEnabled":true,"labelWrap":true,"onCreated":"","onMounted":"","filterable":false,"labelAlign":"","onValidate":"","validation":"","allowCreate":false,"columnWidth":"200px","customClass":"","dataSetName":"afcCustomerType","labelHidden":false,"optionItems":[],"placeholder":"","collapseTags":false,"defaultValue":"","requiredHint":"","multipleLimit":0,"onRemoteQuery":"","keyNameEnabled":true,"validationHint":"","optionValueType":"","automaticDropdown":false,"labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColCustomerId","key":4768,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColCustomerId","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"customerId","key":4572,"icon":"number-field","type":"number","options":{"max":100000000000,"min":-100000000000,"name":"customerId","size":"","step":1,"label":"客户ID","hidden":false,"onBlur":"","formula":"","keyName":"customerId","onFocus":"","controls":true,"disabled":false,"onChange":"","required":false,"labelWrap":true,"onCreated":"","onMounted":"","precision":0,"labelAlign":"","onValidate":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","defaultValue":0,"requiredHint":"","formulaEnabled":false,"keyNameEnabled":true,"validationHint":"","controlsPosition":"right","labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColCustomerName","key":9739,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColCustomerName","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"customerName","key":8397,"icon":"text-field","type":"input","alias":"","options":{"name":"customerName","size":"","type":"text","label":"客户名称","hidden":false,"onBlur":"","keyName":"customerName","onFocus":"","onInput":"","disabled":false,"onChange":"","readonly":false,"required":false,"clearable":true,"labelWrap":true,"onCreated":"","onMounted":"","buttonIcon":"custom-search","labelAlign":"","onValidate":"","prefixIcon":"","suffixIcon":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","appendButton":false,"defaultValue":"","requiredHint":"","showPassword":false,"showWordLimit":false,"keyNameEnabled":true,"validationHint":"","labelIconPosition":"rear","onAppendButtonClick":"","appendButtonDisabled":false},"formItemFlag":true}]},{"id":"gridColContractNo","key":6851,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColContractNo","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"contractNo","key":9526,"icon":"text-field","type":"input","alias":"","options":{"name":"contractNo","size":"","type":"text","label":"合同编号","hidden":false,"onBlur":"","keyName":"contractNo","onFocus":"","onInput":"","disabled":false,"onChange":"","readonly":false,"required":false,"clearable":true,"labelWrap":true,"onCreated":"","onMounted":"","buttonIcon":"custom-search","labelAlign":"","onValidate":"","prefixIcon":"","suffixIcon":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","appendButton":false,"defaultValue":"","requiredHint":"","showPassword":false,"showWordLimit":false,"keyNameEnabled":true,"validationHint":"","labelIconPosition":"rear","onAppendButtonClick":"","appendButtonDisabled":false},"formItemFlag":true}]},{"id":"gridColFinanceAmount","key":2858,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColFinanceAmount","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"financeAmount","key":1644,"icon":"text-field","type":"input","alias":"","options":{"name":"financeAmount","size":"","type":"text","label":"融资金额","hidden":false,"onBlur":"","keyName":"financeAmount","onFocus":"","onInput":"","disabled":false,"onChange":"","readonly":false,"required":false,"clearable":true,"labelWrap":true,"onCreated":"","onMounted":"","buttonIcon":"custom-search","labelAlign":"","onValidate":"","prefixIcon":"","suffixIcon":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","appendButton":false,"defaultValue":"","requiredHint":"","showPassword":false,"showWordLimit":false,"keyNameEnabled":true,"validationHint":"","labelIconPosition":"rear","onAppendButtonClick":"","appendButtonDisabled":false},"formItemFlag":true}]},{"id":"gridColPeriodNum","key":7653,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColPeriodNum","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"periodNum","key":8308,"icon":"number-field","type":"number","options":{"max":100000000000,"min":-100000000000,"name":"periodNum","size":"","step":1,"label":"期数","hidden":false,"onBlur":"","formula":"","keyName":"periodNum","onFocus":"","controls":true,"disabled":false,"onChange":"","required":false,"labelWrap":true,"onCreated":"","onMounted":"","precision":0,"labelAlign":"","onValidate":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","defaultValue":0,"requiredHint":"","formulaEnabled":false,"keyNameEnabled":true,"validationHint":"","controlsPosition":"right","labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColPeriodRent","key":7434,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColPeriodRent","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"periodRent","key":8161,"icon":"text-field","type":"input","alias":"","options":{"name":"periodRent","size":"","type":"text","label":"每期租金","hidden":false,"onBlur":"","keyName":"periodRent","onFocus":"","onInput":"","disabled":false,"onChange":"","readonly":false,"required":false,"clearable":true,"labelWrap":true,"onCreated":"","onMounted":"","buttonIcon":"custom-search","labelAlign":"","onValidate":"","prefixIcon":"","suffixIcon":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","appendButton":false,"defaultValue":"","requiredHint":"","showPassword":false,"showWordLimit":false,"keyNameEnabled":true,"validationHint":"","labelIconPosition":"rear","onAppendButtonClick":"","appendButtonDisabled":false},"formItemFlag":true}]},{"id":"gridColDeposit","key":5166,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColDeposit","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"deposit","key":8156,"icon":"text-field","type":"input","alias":"","options":{"name":"deposit","size":"","type":"text","label":"押金","hidden":false,"onBlur":"","keyName":"deposit","onFocus":"","onInput":"","disabled":false,"onChange":"","readonly":false,"required":false,"clearable":true,"labelWrap":true,"onCreated":"","onMounted":"","buttonIcon":"custom-search","labelAlign":"","onValidate":"","prefixIcon":"","suffixIcon":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","appendButton":false,"defaultValue":"","requiredHint":"","showPassword":false,"showWordLimit":false,"keyNameEnabled":true,"validationHint":"","labelIconPosition":"rear","onAppendButtonClick":"","appendButtonDisabled":false},"formItemFlag":true}]},{"id":"gridColBaseAmount","key":1624,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColBaseAmount","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"baseAmount","key":1191,"icon":"text-field","type":"input","alias":"","options":{"name":"baseAmount","size":"","type":"text","label":"基准金额\n","hidden":false,"onBlur":"","keyName":"baseAmount","onFocus":"","onInput":"","disabled":false,"onChange":"","readonly":false,"required":false,"clearable":true,"labelWrap":true,"onCreated":"","onMounted":"","buttonIcon":"custom-search","labelAlign":"","onValidate":"","prefixIcon":"","suffixIcon":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","appendButton":false,"defaultValue":"","requiredHint":"","showPassword":false,"showWordLimit":false,"keyNameEnabled":true,"validationHint":"","labelIconPosition":"rear","onAppendButtonClick":"","appendButtonDisabled":false},"formItemFlag":true}]},{"id":"gridColDownPayment","key":9362,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColDownPayment","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"downPayment","key":1707,"icon":"text-field","type":"input","alias":"","options":{"name":"downPayment","size":"","type":"text","label":"首付款","hidden":false,"onBlur":"","keyName":"downPayment","onFocus":"","onInput":"","disabled":false,"onChange":"","readonly":false,"required":false,"clearable":true,"labelWrap":true,"onCreated":"","onMounted":"","buttonIcon":"custom-search","labelAlign":"","onValidate":"","prefixIcon":"","suffixIcon":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","appendButton":false,"defaultValue":"","requiredHint":"","showPassword":false,"showWordLimit":false,"keyNameEnabled":true,"validationHint":"","labelIconPosition":"rear","onAppendButtonClick":"","appendButtonDisabled":false},"formItemFlag":true}]},{"id":"gridColDownPaymentRatio","key":9956,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColDownPaymentRatio","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"downPaymentRatio","key":3277,"icon":"text-field","type":"input","alias":"","options":{"name":"downPaymentRatio","size":"","type":"text","label":"首付比例\n","hidden":false,"onBlur":"","keyName":"downPaymentRatio","onFocus":"","onInput":"","disabled":false,"onChange":"","readonly":false,"required":false,"clearable":true,"labelWrap":true,"onCreated":"","onMounted":"","buttonIcon":"custom-search","labelAlign":"","onValidate":"","prefixIcon":"","suffixIcon":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","appendButton":false,"defaultValue":"","requiredHint":"","showPassword":false,"showWordLimit":false,"keyNameEnabled":true,"validationHint":"","labelIconPosition":"rear","onAppendButtonClick":"","appendButtonDisabled":false},"formItemFlag":true}]},{"id":"gridColInterestRate","key":6106,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColInterestRate","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"interestRate","key":4050,"icon":"text-field","type":"input","alias":"","options":{"name":"interestRate","size":"","type":"text","label":"客户平面利率\n","hidden":false,"onBlur":"","keyName":"interestRate","onFocus":"","onInput":"","disabled":false,"onChange":"","readonly":false,"required":false,"clearable":true,"labelWrap":true,"onCreated":"","onMounted":"","buttonIcon":"custom-search","labelAlign":"","onValidate":"","prefixIcon":"","suffixIcon":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","appendButton":false,"defaultValue":"","requiredHint":"","showPassword":false,"showWordLimit":false,"keyNameEnabled":true,"validationHint":"","labelIconPosition":"rear","onAppendButtonClick":"","appendButtonDisabled":false},"formItemFlag":true}]},{"id":"gridColSecurityFund","key":2866,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColSecurityFund","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"securityFund","key":7153,"icon":"text-field","type":"input","alias":"","options":{"name":"securityFund","size":"","type":"text","label":"保证金加首期月供","hidden":false,"onBlur":"","keyName":"securityFund","onFocus":"","onInput":"","disabled":false,"onChange":"","readonly":false,"required":false,"clearable":true,"labelWrap":true,"onCreated":"","onMounted":"","buttonIcon":"custom-search","labelAlign":"","onValidate":"","prefixIcon":"","suffixIcon":"","validation":"","columnWidth":"200px","labelHidden":false,"placeholder":"","appendButton":false,"defaultValue":"","requiredHint":"","showPassword":false,"showWordLimit":false,"keyNameEnabled":true,"validationHint":"","labelIconPosition":"rear","onAppendButtonClick":"","appendButtonDisabled":false},"formItemFlag":true}]},{"id":"gridColCarBrandId","key":4615,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColCarBrandId","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"carBrandId","key":5872,"icon":"select-field","type":"select","alias":"","options":{"name":"carBrandId","size":"","label":"品牌","dsName":"sql_car_brand","hidden":false,"onBlur":"","remote":false,"keyName":"carBrandId","onFocus":"","disabled":false,"labelKey":"label","multiple":false,"onChange":"let {baseApi,headers} = this.getGlobalDsv();\nheaders['Content-Type'] = 'application/json';\nlet linkWidget = this.getWidgetRef('carSerialId');\nif(linkWidget){\n\t linkWidget.loadOptions({});\n this.getFormRef().setFieldValue('carSerialId','');\n}\nif(value==''){\n\t return;\n}\t if(this.getFormRef().getTopFormRef().hasEC('myEC')){\n\t\t let handle = this.getFormRef().getTopFormRef().getEC('myEC');\n\t\t let headers = {'Content-Type':'application/json'};\n\t\t handle.api({url:'/afc/dict/sql/car_serial',headers:headers,method:'post',data:{'car_brand_id':value}}).then(res=>{\n\t\t\t linkWidget.loadOptions(res.data);\n}).catch(res=>{\n\t linkWidget.loadOptions({});\n});\n\t } else {\n\t\t linkWidget.loadOptions({});\n}\n","required":false,"valueKey":"value","clearable":true,"dsEnabled":true,"labelWrap":true,"onCreated":"","onMounted":"","filterable":false,"labelAlign":"","onValidate":"","validation":"","allowCreate":false,"columnWidth":"200px","customClass":"","dataSetName":"","labelHidden":false,"optionItems":[],"placeholder":"","collapseTags":false,"defaultValue":"","requiredHint":"","multipleLimit":0,"onRemoteQuery":"","keyNameEnabled":true,"validationHint":"","optionValueType":"","automaticDropdown":false,"labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColCarSerialId","key":5888,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColCarSerialId","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"carSerialId","key":1678,"icon":"select-field","type":"select","alias":"","options":{"name":"carSerialId","size":"","label":"车系","dsName":"sql_car_serial","hidden":false,"onBlur":"","remote":false,"keyName":"carSerialId","onFocus":"","disabled":false,"labelKey":"label","multiple":false,"onChange":"let {baseApi,headers} = this.getGlobalDsv();\nheaders['Content-Type'] = 'application/json';\nlet linkWidget = this.getWidgetRef('carModelId');\nif(linkWidget){\n\t linkWidget.loadOptions({});\n this.getFormRef().setFieldValue('carModelId','');\n}\nif(value==''){\n\t return;\n}\t if(this.getFormRef().getTopFormRef().hasEC('myEC')){\n\t\t let handle = this.getFormRef().getTopFormRef().getEC('myEC');\n\t\t let headers = {'Content-Type':'application/json'};\n\t\t handle.api({url:'/afc/dict/sql/car_model',headers:headers,method:'post',data:{'car_serial_id':value}}).then(res=>{\n\t\t\t linkWidget.loadOptions(res.data);\n}).catch(res=>{\n\t linkWidget.loadOptions({});\n});\n\t } else {\n\t\t linkWidget.loadOptions({});\n}\n","required":false,"valueKey":"value","clearable":true,"dsEnabled":true,"labelWrap":true,"onCreated":"","onMounted":"","filterable":false,"labelAlign":"","onValidate":"","validation":"","allowCreate":false,"columnWidth":"200px","customClass":"","dataSetName":"","labelHidden":false,"optionItems":[],"placeholder":"","collapseTags":false,"defaultValue":"","requiredHint":"","multipleLimit":0,"onRemoteQuery":"","keyNameEnabled":true,"validationHint":"","optionValueType":"","automaticDropdown":false,"labelIconPosition":"rear"},"formItemFlag":true}]},{"id":"gridColCarModelId","key":6147,"icon":"grid-col","type":"grid-col","options":{"md":12,"sm":12,"xs":12,"name":"gridColCarModelId","pull":0,"push":0,"span":12,"hidden":false,"offset":0,"disabled":false,"required":false,"responsive":true,"customClass":""},"category":"container","internal":true,"widgetList":[{"id":"carModelId","key":4267,"icon":"select-field","type":"select","alias":"","options":{"name":"carModelId","size":"","label":"车型","dsName":"sql_car_model","hidden":false,"onBlur":"","remote":false,"keyName":"carModelId","onFocus":"","disabled":false,"labelKey":"label","multiple":false,"onChange":"","required":false,"valueKey":"value","clearable":true,"dsEnabled":true,"labelWrap":true,"onCreated":"","onMounted":"","filterable":false,"labelAlign":"","onValidate":"","validation":"","allowCreate":false,"columnWidth":"200px","customClass":"","dataSetName":"","labelHidden":false,"optionItems":[],"placeholder":"","collapseTags":false,"defaultValue":"","requiredHint":"","multipleLimit":0,"onRemoteQuery":"","keyNameEnabled":true,"validationHint":"","optionValueType":"","automaticDropdown":false,"labelIconPosition":"rear"},"formItemFlag":true}]}],"icon":"grid-2-col","type":"grid","alias":"grid-2-col","options":{"name":"gridOrderInfo","gutter":12,"hidden":false,"disabled":false,"required":false,"colHeight":"50","customClass":[]},"category":"container"}]},{"key":23218,"type":"grid","category":"container","icon":"grid","cols":[{"type":"grid-col","category":"container","icon":"grid-col","internal":true,"widgetList":[],"options":{"name":"gridCol43735","hidden":false,"span":20,"offset":0,"push":0,"pull":0,"responsive":false,"md":12,"sm":12,"xs":12,"customClass":""},"id":"grid-col-43735"},{"type":"grid-col","category":"container","icon":"grid-col","internal":true,"widgetList":[{"key":88162,"type":"button","icon":"button","formItemFlag":false,"options":{"name":"button27123","label":"抽踢","columnWidth":"200px","size":"","displayStyle":"block","disabled":false,"hidden":false,"type":"","plain":false,"round":false,"circle":false,"icon":null,"customClass":[],"onCreated":"","onMounted":"","onClick":"console.log(this.getWidgetRef('drawer100034').show())"},"id":"button27123"},{"key":52770,"type":"button","icon":"button","formItemFlag":false,"options":{"name":"button37939","label":"新增","columnWidth":"200px","size":"","displayStyle":"block","disabled":false,"hidden":false,"type":"","plain":false,"round":false,"circle":false,"icon":null,"customClass":[],"onCreated":"\n","onMounted":"","onClick":"console.log(this.getFormRef())\nconsole.log(this.getWidgetRef('dialog78187').show())"},"id":"button37939"}],"options":{"name":"gridCol61790","hidden":false,"span":4,"offset":0,"push":0,"pull":0,"responsive":false,"md":12,"sm":12,"xs":12,"customClass":""},"id":"grid-col-61790"}],"options":{"name":"grid68259","hidden":false,"gutter":12,"colHeight":null,"customClass":[]},"id":"grid68259"},{"key":32635,"type":"data-table","category":"container","icon":"data-table","widgetList":[],"tableFlag":true,"options":{"name":"datatable29802","label":"data-table","hidden":false,"rowSpacing":8,"tableHeight":"300px","tableWidth":"100%","customClass":[],"stripe":true,"showIndex":false,"showCheckBox":false,"showPagination":true,"smallPagination":false,"showSummary":false,"border":true,"tableSize":"default","tableColumns":[{"columnId":1,"prop":"archiveNo","label":"产品编码","width":"100","show":true,"align":"left","fixed":"left","sortable":true,"showEventDialog":false,"formatS":""},{"columnId":2,"prop":"carBrandName","label":"产品名称","width":"160","show":true,"align":"left","formatS":"","showEventDialog":false},{"columnId":3,"prop":"date2","label":"日期2","width":"160","show":true,"align":"left","formatS":"","showEventDialog":false},{"columnId":4,"prop":"date3","label":"日期3","width":"160","show":true,"align":"left","formatS":"","showEventDialog":false},{"columnId":5,"prop":"f1","label":"基金","width":"150","show":true,"align":"right","sortable":true,"formatS":"","showEventDialog":false},{"columnId":6,"prop":"f2","label":"股票","width":"150","show":true,"align":"right","sortable":true,"formatS":"","showEventDialog":false},{"columnId":7,"prop":"f3","label":"存款","width":"150","show":true,"align":"right","sortable":true,"formatS":"","showEventDialog":false},{"columnId":8,"prop":"f4","label":"基金2","width":"150","show":true,"align":"right","sortable":true,"formatS":"","showEventDialog":false},{"columnId":9,"prop":"f5","label":"股票2","width":"150","show":true,"align":"right","sortable":true,"formatS":"","showEventDialog":false},{"columnId":10,"prop":"f6","label":"存款2","width":"150","show":true,"align":"right","sortable":true,"formatS":"","showEventDialog":false},{"columnId":11,"prop":"f7","label":"成功率","width":"140","show":true,"align":"right","sortable":true,"formatS":"","showEventDialog":false},{"columnId":12,"prop":"add","label":"地址","width":"250","show":true,"showEventDialog":false,"formatS":""},{"columnId":13,"prop":"ss","label":"秘密","width":"100","show":false,"showEventDialog":false,"formatS":""}],"showButtonsColumn":false,"buttonsColumnTitle":"操作","buttonsColumnWidth":120,"operationButtons":[{"name":"detail","label":"详情","type":"text","size":"small","round":false,"hidden":true,"disabled":false},{"name":"edit","label":"编辑","type":"text","size":"small","round":false,"hidden":false,"disabled":false},{"name":"delete","label":"删除","type":"text","size":"small","round":false,"hidden":false,"disabled":false}],"pagination":{"currentPage":1,"pageSizes":[10,15,20,30,50,100,200],"pageSize":10,"total":366},"dsEnabled":true,"dsName":"dataOrderInfo","tableData":[{"date":"2016-05-02","date2":"2016-05-02 23:12:12","date3":"2016-05-02 9:11:12","name":"小二","f1":10001000.2,"f2":10001000.239567,"f3":10001000.239567,"f4":10001000.239567,"f5":10001000.239567,"f6":10001000.239567,"f7":0.25,"add":"上海市普陀区金沙江路 1518 弄","ss":100},{"date":"2016-05-04","date2":"2016-05-02 11:12:12","date3":"2016-05-02 9:11:12","name":"王小虎2","f1":10001000.23,"f2":10001000.23,"f3":10001000.239567,"f4":10001000.239567,"f5":10001000.239567,"f6":10001000.239567,"f7":0.256,"add":"上海市普陀区金沙江路 1518 弄","ss":100},{"date":"2016-05-01","date2":"2016-05-02 12:12:12","date3":"2016-05-02 9:11:12","name":"王小虎3","f1":10001000.239,"f2":10001000.239,"f3":10001000.239567,"f4":10001000.239567,"f5":10001000.239567,"f6":10001000.239567,"f7":0.2569,"add":"上海市普陀区金沙江路 1518 弄","ss":100},{"date":"2016-05-03","date2":"2016-05-02 12:12:12","date3":"2016-05-02 9:11:12","name":"王小虎4","f1":10001000.239567,"f2":10001000.239567,"f3":10001000.239567,"f4":10001000.239567,"f5":10001000.239567,"f6":10001000.239567,"f7":1.9527102,"add":"上海市普陀区金沙江路 1518 弄","ss":100}],"onPageSizeChange":"","onCurrentPageChange":"","onSelectionChange":"","onOperationButtonClick":"","onTableRowClick":"","refreshWidget":"","bussinessSource":{"currentNodeKey":"","scriptParams":[],"expandedNodes":[],"pageSize":10}},"id":"datatable29802"},{"key":37889,"type":"drawer","category":"container","icon":"drawer","widgetList":[{"key":111587,"type":"number","icon":"number-field","formItemFlag":true,"options":{"name":"number53863","label":"number","labelAlign":"","defaultValue":0,"placeholder":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"disabled":false,"hidden":false,"required":false,"requiredHint":"","validation":"","validationHint":"","customClass":"","labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"min":-100000000000,"max":100000000000,"precision":0,"step":1,"controlsPosition":"right","onCreated":"","onMounted":"","onChange":"","onFocus":"","onBlur":"","onValidate":""},"id":"number53863"}],"options":{"name":"drawer100034","label":"drawer","hidden":false,"visible":false},"customClass":"","id":"drawer100034"},{"key":64254,"type":"dialog","category":"container","icon":"dialog","widgetList":[{"key":43892,"type":"input","icon":"text-field","formItemFlag":true,"options":{"name":"input112739","label":"input","labelAlign":"","type":"text","defaultValue":"","placeholder":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"readonly":false,"disabled":false,"hidden":false,"clearable":true,"showPassword":false,"required":false,"requiredHint":"","validation":"","validationHint":"","customClass":"","labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"minLength":null,"maxLength":null,"showWordLimit":false,"prefixIcon":"","suffixIcon":"","appendButton":false,"appendButtonDisabled":false,"buttonIcon":"custom-search","onCreated":"","onMounted":"","onInput":"","onChange":"","onFocus":"","onBlur":"","onValidate":""},"id":"input112739"},{"key":104701,"type":"input","icon":"text-field","formItemFlag":true,"options":{"name":"input59981","label":"input","labelAlign":"","type":"text","defaultValue":"","placeholder":"","columnWidth":"200px","size":"","labelWidth":null,"labelHidden":false,"readonly":false,"disabled":false,"hidden":false,"clearable":true,"showPassword":false,"required":false,"requiredHint":"","validation":"","validationHint":"","customClass":"","labelIconClass":null,"labelIconPosition":"rear","labelTooltip":null,"minLength":null,"maxLength":null,"showWordLimit":false,"prefixIcon":"","suffixIcon":"","appendButton":false,"appendButtonDisabled":false,"buttonIcon":"custom-search","onCreated":"","onMounted":"","onInput":"","onChange":"","onFocus":"","onBlur":"","onValidate":""},"id":"input59981"}],"options":{"name":"dialog78187","label":"dialog","hidden":false,"visible":false},"customClass":"","id":"dialog78187"}],
        formConfig:{"modelName":"formData","refName":"vForm","rulesName":"rules","labelWidth":80,"labelPosition":"left","size":"","labelAlign":"label-left-align","cssCode":".pl10{\n  padding-left: 10px;\n}","customClass":[],"functions":"","layoutType":"PC","jsonVersion":3,"dataSources":[{"data":[],"params":[],"headers":[],"dataSets":[{"name":"afcProductType","remark":"产品类型"},{"name":"afcLeaseType","remark":"租赁类型 "},{"name":"afcCustomerType","remark":"客户类型"}],"requestURL":"/afc/model/dict/OrderInfo","uniqueName":"dict","dataSourceId":"e425cfb5c0f94629ae03ea8705c62a1a","requestMethod":"get","dataSetEnabled":true,"requestURLType":"String","dataHandlerCode":"return result.data.row;\n","errorHandlerCode":"  $message.error(error.message);","configHandlerCode":"config.url=DSV['baseApi']+config.url;\n Object.assign(config.headers,DSV['headers']);\nreturn config;"},{"data":[],"params":[],"headers":[],"dataSets":[{"name":"afcProductType","remark":"产品类型"},{"name":"afcLeaseType","remark":"租赁类型 "},{"name":"afcCustomerType","remark":"客户类型"}],"requestURL":"/afc/data/submit/OrderInfo","uniqueName":"submitOrderInfo","dataSourceId":"80626123191a4ec29e14c2e5f8330b78","requestMethod":"post","dataSetEnabled":true,"requestURLType":"String","dataHandlerCode":"if(result.data.code==200){VFR.$message.success('操作成功');\n} else {VFR.$message.error('操作失败.'+result.data.msg);\n} \n return result.data;","errorHandlerCode":"  $message.error(error.message);","configHandlerCode":"config.url=DSV['baseApi']+config.url;\n config.data = DSV['formData'];\nObject.assign(config.headers,DSV['headers']);\nreturn config;"},{"data":[],"params":[],"headers":[],"dataSets":[],"requestURL":"/afc/data/dynamic/list","uniqueName":"dataOrderInfo","dataSourceId":"be1848d9508d4c0494a1ae7a2ba4a11e","requestMethod":"post","dataSetEnabled":false,"requestURLType":"String","dataHandlerCode":"const total = result.data.total*1; console.log('vfr',VFR.getWidgetRef('datatable29802')); const dataTable = VFR.getWidgetRef('datatable29802'); dataTable.setPagination({total}); return result.data.rows;","errorHandlerCode":"  $message.error(error.message);","configHandlerCode":"let { pageSize, currentPage,url,testApiHost,widgetName,baseApi, ...postJsonObj } = DSV;\nconfig.url=DSV['baseApi']+config.url; \nlet conditions={pageSize,currentPage};\nlet {licenseNo,vinNo,carBrandId,carSerialId,carModelId,registerDate,isValid}=postJsonObj;\nObject.assign(conditions,{licenseNo,vinNo,carBrandId,carSerialId,carModelId,registerDate,isValid})\nObject.assign(config.headers,DSV['headers']);\nconfig.data={'modelName':'CarInfo','columns':['id','archiveNo','licenseNo','vinNo','carBrandName','carSerialName','carModelName','engineNo','mileage','registerDate','checkExpireDate','ownerName','isValid'],conditions};\n\nreturn config;\n"},{"data":[],"params":[],"headers":[],"dataSets":[],"requestURL":"/afc/dict/sql/car_brand","uniqueName":"sql_car_brand","dataSourceId":"61b62da522fd4ce0822980246c7cb071","requestMethod":"post","dataSetEnabled":true,"requestURLType":"String","dataHandlerCode":"return result.data.data;\n","errorHandlerCode":"  $message.error(error.message);","configHandlerCode":"config.url=DSV['baseApi']+config.url;\n Object.assign(config.headers,DSV['headers']);\nreturn config;"},{"data":[],"params":[],"headers":[],"dataSets":[],"requestURL":"/afc/dict/sql/car_serial","uniqueName":"sql_car_serial","dataSourceId":"dafb2ca7710a44af81931b36e03893a0","requestMethod":"post","dataSetEnabled":true,"requestURLType":"String","dataHandlerCode":"return result.data.data;\n","errorHandlerCode":"  $message.error(error.message);","configHandlerCode":"config.url=DSV['baseApi']+config.url;\n Object.assign(config.headers,DSV['headers']);\nreturn config;"},{"data":[],"params":[],"headers":[],"dataSets":[],"requestURL":"/afc/dict/sql/car_model","uniqueName":"sql_car_model","dataSourceId":"b5b47687ff0444c2899e767c181c9b6e","requestMethod":"post","dataSetEnabled":true,"requestURLType":"String","dataHandlerCode":"return result.data.data;\n","errorHandlerCode":"  $message.error(error.message);","configHandlerCode":"config.url=DSV['baseApi']+config.url;\n Object.assign(config.headers,DSV['headers']);\nreturn config;"}],"onFormCreated":"","onFormMounted":"","onFormDataChange":"","onFormValidate":""}
    })
  })
</script>

<style></style>
